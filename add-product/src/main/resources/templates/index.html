<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>MyCart Page</title>

    <th:block th:replace="components/common_css_js :: common-css-js"></th:block>
    <th:block th:replace="components/navbar :: navbar"></th:block>

    <link rel="stylesheet" th:href="@{/css/style.css}">
</head>

<body>
<div class="container-fluid">
    <div class="row mt-3 ml-4">

        <!-- CATEGORY LIST -->
        <div class="col-md-2 mt-4">
            <div class="list-group">

                <a th:href="@{/}"
                   class="list-group-item list-group-item-action active custom-bg">
                    All Category
                </a>

                <a th:each="cat : ${categories}"
                   th:href="@{/?category={id}(id=${cat.categoryId})}"
                   class="list-group-item list-group-item-action"
                   th:text="${cat.categoryTitle}">
                </a>

            </div>
        </div>

        <!-- PRODUCT LIST -->
        <div class="col-md-10">

            <p th:if="${products.isEmpty()}">No Items are present</p>

            <div class="row mt-4">
                <div class="col-md-12">
                    <div class="card-columns">

                        <div class="card" th:each="p : ${products}">
                            <div class="card-body">

                                <div class="container text-center">
                                    <img class="card-img-top"
                                         th:src="@{/img/Products/{img}(img=${p.pPhoto})}"
                                         style="max-height:300px; max-width:100%">
                                </div>

                                <h5 th:text="${p.pTitle}"></h5>

                                <p th:text="${T(mvc.ecom.helper.Get10Word).getWord(p.pDesc)}"></p>
                            </div>

                            <div class="card-footer">

                                <button class="btn custom-bg"
                                  th:onclick="|add_to_cart(${p.pId}, '${p.pTitle}', ${T(mvc.ecom.helper.AfterDiscount).disPrice(p.pPrice, p.pDiscount)})|">
                                  Add to Cart
                                </button>

                                <button class="btn">
                                    ₹<span th:text="${T(mvc.ecom.helper.AfterDiscount).disPrice(p.pPrice, p.pDiscount)}"></span>
                                </button>

                                <button class="btn btn-outline-primary">
                                    ₹<del th:text="${p.pPrice}"></del>
                                    <span class="text-secondary discount-label"
                                          th:text="${p.pDiscount + '% off'}"></span>
                                </button>

                            </div>
                        </div>

                    </div>
                </div>
            </div>

        </div>
    </div>
</div>

<th:block th:replace="components/common_modal :: common-modal"></th:block>

</body>
</html>
